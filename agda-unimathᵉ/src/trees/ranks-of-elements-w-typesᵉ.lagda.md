# Ranks of elements in W-types

```agda
module trees.ranks-of-elements-w-typesрхЅ where
```

<details><summary>Imports</summary>

```agda
open import foundation.cartesian-product-typesрхЅ
open import foundation.dependent-pair-typesрхЅ
open import foundation.empty-typesрхЅ
open import foundation.existential-quantificationрхЅ
open import foundation.identity-typesрхЅ
open import foundation.negationрхЅ
open import foundation.propositional-truncationsрхЅ
open import foundation.propositionsрхЅ
open import foundation.transport-along-identificationsрхЅ
open import foundation.universe-levelsрхЅ

open import trees.elementhood-relation-w-typesрхЅ
open import trees.inequality-w-typesрхЅ
open import trees.w-typesрхЅ
```

</details>

## Idea

ConsiderрхЅ twoрхЅ elementsрхЅ `x`рхЅ andрхЅ `y`рхЅ ofрхЅ aрхЅ W-typeрхЅ `­ЮЋјрхЅ AрхЅ B`.рхЅ WeрхЅ sayрхЅ thatрхЅ theрхЅ **rank**рхЅ
ofрхЅ `x`рхЅ isрхЅ atрхЅ mostрхЅ theрхЅ rankрхЅ ofрхЅ `y`рхЅ ifрхЅ forрхЅ everyрхЅ elementрхЅ `x'рхЅ РѕѕрхЅ x`рхЅ andрхЅ forрхЅ everyрхЅ
elementрхЅ `y'рхЅ РѕѕрхЅ y`рхЅ theрхЅ rankрхЅ ofрхЅ `x'`рхЅ isрхЅ atрхЅ mostрхЅ theрхЅ rankрхЅ ofрхЅ `y'`.рхЅ

## Definition

### Rank comparison

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  _РЅ╝-­ЮЋј-PropрхЅ_ : ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ PropрхЅ (l1рхЅ Ріћ l2рхЅ)
  (tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ) РЅ╝-­ЮЋј-PropрхЅ (tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ) =
    ╬а-PropрхЅ (BрхЅ xрхЅ) (╬╗ bрхЅ Рєњ РѕЃрхЅ (BрхЅ yрхЅ) (╬╗ cрхЅ Рєњ (╬▒рхЅ bрхЅ) РЅ╝-­ЮЋј-PropрхЅ (╬▓рхЅ cрхЅ)))

  _РЅ╝-­ЮЋјрхЅ_ : ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ UUрхЅ (l1рхЅ Ріћ l2рхЅ)
  xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ = type-PropрхЅ (xрхЅ РЅ╝-­ЮЋј-PropрхЅ yрхЅ)

  _РЅѕ-­ЮЋј-PropрхЅ_ : (xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ PropрхЅ (l1рхЅ Ріћ l2рхЅ)
  xрхЅ РЅѕ-­ЮЋј-PropрхЅ yрхЅ = product-PropрхЅ (xрхЅ РЅ╝-­ЮЋј-PropрхЅ yрхЅ) (yрхЅ РЅ╝-­ЮЋј-PropрхЅ xрхЅ)

  _РЅѕ-­ЮЋјрхЅ_ : (xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ UUрхЅ (l1рхЅ Ріћ l2рхЅ)
  xрхЅ РЅѕ-­ЮЋјрхЅ yрхЅ = type-PropрхЅ (xрхЅ РЅѕ-­ЮЋј-PropрхЅ yрхЅ)
```

### Strict rank comparison

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  _РЅ║-­ЮЋј-PropрхЅ_ : ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ PropрхЅ (l1рхЅ Ріћ l2рхЅ)
  xрхЅ РЅ║-­ЮЋј-PropрхЅ yрхЅ =
    РѕЃрхЅ (╬БрхЅ (­ЮЋјрхЅ AрхЅ BрхЅ) (╬╗ wрхЅ Рєњ wрхЅ Рѕѕ-­ЮЋјрхЅ yрхЅ)) (╬╗ tрхЅ Рєњ xрхЅ РЅ╝-­ЮЋј-PropрхЅ (pr1рхЅ tрхЅ))

  _РЅ║-­ЮЋјрхЅ_ : ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ UUрхЅ (l1рхЅ Ріћ l2рхЅ)
  xрхЅ РЅ║-­ЮЋјрхЅ yрхЅ = type-PropрхЅ (xрхЅ РЅ║-­ЮЋј-PropрхЅ yрхЅ)

  in-lower-set-РЅ║-­ЮЋј-PropрхЅ : (xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ PropрхЅ (l1рхЅ Ріћ l2рхЅ)
  in-lower-set-РЅ║-­ЮЋј-PropрхЅ xрхЅ yрхЅ = yрхЅ РЅ║-­ЮЋј-PropрхЅ xрхЅ

  in-lower-set-РЅ║-­ЮЋјрхЅ : (xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ UUрхЅ (l1рхЅ Ріћ l2рхЅ)
  in-lower-set-РЅ║-­ЮЋјрхЅ xрхЅ yрхЅ = yрхЅ РЅ║-­ЮЋјрхЅ xрхЅ

  has-same-lower-set-РЅ║-­ЮЋјрхЅ : (xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ UUрхЅ (l1рхЅ Ріћ l2рхЅ)
  has-same-lower-set-РЅ║-­ЮЋјрхЅ xрхЅ yрхЅ = (zрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ (zрхЅ РЅ║-­ЮЋјрхЅ xрхЅ) ├ЌрхЅ (zрхЅ РЅ║-­ЮЋјрхЅ yрхЅ)
```

### Strong rank comparison

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  _strong-РЅ╝-­ЮЋј-PropрхЅ_ : ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ PropрхЅ (l1рхЅ Ріћ l2рхЅ)
  xрхЅ strong-РЅ╝-­ЮЋј-PropрхЅ yрхЅ =
    ╬а-PropрхЅ
      ( ­ЮЋјрхЅ AрхЅ BрхЅ)
      ( ╬╗ uрхЅ Рєњ
        ╬а-PropрхЅ
          ( uрхЅ Рѕѕ-­ЮЋјрхЅ xрхЅ)
          ( ╬╗ HрхЅ Рєњ
            РѕЃрхЅ ( ­ЮЋјрхЅ AрхЅ BрхЅ)
              ( ╬╗ vрхЅ Рєњ
                РѕЃрхЅ (vрхЅ Рѕѕ-­ЮЋјрхЅ yрхЅ) (╬╗ KрхЅ Рєњ uрхЅ РЅ╝-­ЮЋј-PropрхЅ vрхЅ))))

  _strong-РЅ╝-­ЮЋјрхЅ_ : ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ ­ЮЋјрхЅ AрхЅ BрхЅ Рєњ UUрхЅ (l1рхЅ Ріћ l2рхЅ)
  xрхЅ strong-РЅ╝-­ЮЋјрхЅ yрхЅ = type-PropрхЅ (xрхЅ strong-РЅ╝-­ЮЋј-PropрхЅ yрхЅ)
```

## Properties

### Reflexivity of rank comparison

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  refl-РЅ╝-­ЮЋјрхЅ : (xрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ xрхЅ РЅ╝-­ЮЋјрхЅ xрхЅ
  refl-РЅ╝-­ЮЋјрхЅ (tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ) bрхЅ = unit-trunc-PropрхЅ (pairрхЅ bрхЅ (refl-РЅ╝-­ЮЋјрхЅ (╬▒рхЅ bрхЅ)))
```

### Transitivity of rank comparison

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  transitive-РЅ╝-­ЮЋјрхЅ : {xрхЅ yрхЅ zрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ) Рєњ (yрхЅ РЅ╝-­ЮЋјрхЅ zрхЅ) Рєњ (xрхЅ РЅ╝-­ЮЋјрхЅ zрхЅ)
  transitive-РЅ╝-­ЮЋјрхЅ {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} {tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ} {tree-­ЮЋјрхЅ zрхЅ ╬│рхЅ} HрхЅ KрхЅ aрхЅ =
    apply-universal-property-trunc-PropрхЅ
      ( HрхЅ aрхЅ)
      ( РѕЃрхЅ (BрхЅ zрхЅ) (╬╗ cрхЅ Рєњ (╬▒рхЅ aрхЅ) РЅ╝-­ЮЋј-PropрхЅ (╬│рхЅ cрхЅ)))
      ( ╬╗ tрхЅ Рєњ
        apply-universal-property-trunc-PropрхЅ
          ( KрхЅ (pr1рхЅ tрхЅ))
          ( РѕЃрхЅ (BрхЅ zрхЅ) (╬╗ cрхЅ Рєњ (╬▒рхЅ aрхЅ) РЅ╝-­ЮЋј-PropрхЅ (╬│рхЅ cрхЅ)))
          ( ╬╗ sрхЅ Рєњ
            unit-trunc-PropрхЅ
              ( pairрхЅ
                ( pr1рхЅ sрхЅ)
                ( transitive-РЅ╝-­ЮЋјрхЅ
                  { ╬▒рхЅ aрхЅ}
                  { ╬▓рхЅ (pr1рхЅ tрхЅ)}
                  { ╬│рхЅ (pr1рхЅ sрхЅ)}
                  ( pr2рхЅ tрхЅ)
                  ( pr2рхЅ sрхЅ)))))
```

### Rank comparison is equivalent to strong rank comparison

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  strong-РЅ╝-РЅ╝-­ЮЋјрхЅ : {xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ) Рєњ (xрхЅ strong-РЅ╝-­ЮЋјрхЅ yрхЅ)
  strong-РЅ╝-РЅ╝-­ЮЋјрхЅ {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} {tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ} HрхЅ .(╬▒рхЅ bрхЅ) (pairрхЅ bрхЅ reflрхЅ) =
    apply-universal-property-trunc-PropрхЅ (HрхЅ bрхЅ)
      ( РѕЃрхЅ ( ­ЮЋјрхЅ AрхЅ BрхЅ)
          ( (╬╗ vрхЅ Рєњ РѕЃрхЅ (vрхЅ Рѕѕ-­ЮЋјрхЅ tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ) (╬╗ hvрхЅ Рєњ (╬▒рхЅ bрхЅ) РЅ╝-­ЮЋј-PropрхЅ vрхЅ))))
      ( fрхЅ)
      where
      fрхЅ :
        ╬БрхЅ (BрхЅ yрхЅ) (╬╗ cрхЅ Рєњ pr1рхЅ (╬▒рхЅ bрхЅ РЅ╝-­ЮЋј-PropрхЅ ╬▓рхЅ cрхЅ)) Рєњ
        existsрхЅ
          ( ­ЮЋјрхЅ AрхЅ BрхЅ)
          ( ╬╗ vрхЅ Рєњ РѕЃрхЅ (vрхЅ Рѕѕ-­ЮЋјрхЅ tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ) (╬╗ hvрхЅ Рєњ ╬▒рхЅ bрхЅ РЅ╝-­ЮЋј-PropрхЅ vрхЅ))
      fрхЅ (pairрхЅ cрхЅ KрхЅ) =
        intro-existsрхЅ (╬▓рхЅ cрхЅ) ( intro-existsрхЅ (pairрхЅ cрхЅ reflрхЅ) KрхЅ)

  РЅ╝-strong-РЅ╝-­ЮЋјрхЅ : {xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ strong-РЅ╝-­ЮЋјрхЅ yрхЅ) Рєњ (xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ)
  РЅ╝-strong-РЅ╝-­ЮЋјрхЅ {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} {tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ} HрхЅ bрхЅ =
    apply-universal-property-trunc-PropрхЅ
      ( HрхЅ (╬▒рхЅ bрхЅ) (bрхЅ ,рхЅ reflрхЅ))
      ( РѕЃрхЅ (BрхЅ yрхЅ) (╬╗ cрхЅ Рєњ ╬▒рхЅ bрхЅ РЅ╝-­ЮЋј-PropрхЅ ╬▓рхЅ cрхЅ))
      ( fрхЅ)
    where
    fрхЅ :
      ╬БрхЅ ( ­ЮЋјрхЅ AрхЅ BрхЅ)
        ( ╬╗ vрхЅ Рєњ existsрхЅ (vрхЅ Рѕѕ-­ЮЋјрхЅ tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ) (╬╗ KрхЅ Рєњ ╬▒рхЅ bрхЅ РЅ╝-­ЮЋј-PropрхЅ vрхЅ)) Рєњ
      existsрхЅ (BрхЅ yрхЅ) (╬╗ cрхЅ Рєњ ╬▒рхЅ bрхЅ РЅ╝-­ЮЋј-PropрхЅ ╬▓рхЅ cрхЅ)
    fрхЅ (pairрхЅ vрхЅ KрхЅ) =
        apply-universal-property-trunc-PropрхЅ KрхЅ
          ( РѕЃрхЅ (BрхЅ yрхЅ) (╬╗ cрхЅ Рєњ ╬▒рхЅ bрхЅ РЅ╝-­ЮЋј-PropрхЅ ╬▓рхЅ cрхЅ))
          ( gрхЅ)
      where
      gрхЅ :
        (vрхЅ Рѕѕ-­ЮЋјрхЅ tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ) ├ЌрхЅ (╬▒рхЅ bрхЅ РЅ╝-­ЮЋјрхЅ vрхЅ) Рєњ
        existsрхЅ (BрхЅ yрхЅ) (╬╗ cрхЅ Рєњ ╬▒рхЅ bрхЅ РЅ╝-­ЮЋј-PropрхЅ ╬▓рхЅ cрхЅ)
      gрхЅ (pairрхЅ (pairрхЅ cрхЅ pрхЅ) MрхЅ) = intro-existsрхЅ cрхЅ (trрхЅ (╬╗ tрхЅ Рєњ ╬▒рхЅ bрхЅ РЅ╝-­ЮЋјрхЅ tрхЅ) (invрхЅ pрхЅ) MрхЅ)
```

### If `x Рѕѕ y` then the rank of `x` is at most the rank of `y`

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  РЅ╝-Рѕѕ-­ЮЋјрхЅ : {xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ Рѕѕ-­ЮЋјрхЅ yрхЅ) Рєњ (xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ)
  РЅ╝-Рѕѕ-­ЮЋјрхЅ {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} {tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ} (pairрхЅ vрхЅ pрхЅ) uрхЅ =
    intro-existsрхЅ
      ( vрхЅ)
      ( trрхЅ
        ( ╬╗ tрхЅ Рєњ ╬▒рхЅ uрхЅ РЅ╝-­ЮЋјрхЅ tрхЅ)
        ( invрхЅ pрхЅ)
        ( РЅ╝-Рѕѕ-­ЮЋјрхЅ {╬▒рхЅ uрхЅ} {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} (pairрхЅ uрхЅ reflрхЅ)))
```

### If `x Рѕѕ y` then the rank of `x` is strictly lower than the rank of `y`

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  РЅ╝-le-­ЮЋјрхЅ : {xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ <-­ЮЋјрхЅ yрхЅ) Рєњ (xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ)
  РЅ╝-le-­ЮЋјрхЅ {xрхЅ} {yрхЅ} (le-Рѕѕ-­ЮЋјрхЅ HрхЅ) = РЅ╝-Рѕѕ-­ЮЋјрхЅ HрхЅ
  РЅ╝-le-­ЮЋјрхЅ {xрхЅ} {yрхЅ} (propagate-le-­ЮЋјрхЅ {yрхЅ = y'рхЅ} KрхЅ HрхЅ) =
    transitive-РЅ╝-­ЮЋјрхЅ {xрхЅ = xрхЅ} {yрхЅ = y'рхЅ} {yрхЅ} (РЅ╝-le-­ЮЋјрхЅ HрхЅ) (РЅ╝-Рѕѕ-­ЮЋјрхЅ KрхЅ)
```

### If `x Рѕѕ y` then the rank of `y` is not lower than the rank of `x`

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  not-РЅ╝-Рѕѕ-­ЮЋјрхЅ : {xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ Рѕѕ-­ЮЋјрхЅ yрхЅ) Рєњ ┬грхЅ (yрхЅ РЅ╝-­ЮЋјрхЅ xрхЅ)
  not-РЅ╝-Рѕѕ-­ЮЋјрхЅ {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} {tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ} (pairрхЅ bрхЅ pрхЅ) KрхЅ =
    apply-universal-property-trunc-PropрхЅ (KрхЅ bрхЅ) (empty-PropрхЅ) fрхЅ
    where
    fрхЅ : ╬БрхЅ (BрхЅ xрхЅ) (╬╗ cрхЅ Рєњ ╬▓рхЅ bрхЅ РЅ╝-­ЮЋјрхЅ ╬▒рхЅ cрхЅ) Рєњ emptyрхЅ
    fрхЅ (pairрхЅ cрхЅ LрхЅ) =
      not-РЅ╝-Рѕѕ-­ЮЋјрхЅ {╬▒рхЅ cрхЅ} {╬▓рхЅ bрхЅ} (trрхЅ (╬╗ tрхЅ Рєњ ╬▒рхЅ cрхЅ Рѕѕ-­ЮЋјрхЅ tрхЅ) (invрхЅ pрхЅ) (pairрхЅ cрхЅ reflрхЅ)) LрхЅ
```

### If `x Рѕѕ y` then the rank of `y` is not strictly below the rank of `x`

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  not-РЅ╝-le-­ЮЋјрхЅ : {xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ <-­ЮЋјрхЅ yрхЅ) Рєњ ┬грхЅ (yрхЅ РЅ╝-­ЮЋјрхЅ xрхЅ)
  not-РЅ╝-le-­ЮЋјрхЅ {xрхЅ} {yрхЅ} (le-Рѕѕ-­ЮЋјрхЅ HрхЅ) = not-РЅ╝-Рѕѕ-­ЮЋјрхЅ {xрхЅ = xрхЅ} {yрхЅ} HрхЅ
  not-РЅ╝-le-­ЮЋјрхЅ {xрхЅ} {yрхЅ} (propagate-le-­ЮЋјрхЅ {yрхЅ = y'рхЅ} HрхЅ KрхЅ) LрхЅ =
    not-РЅ╝-Рѕѕ-­ЮЋјрхЅ {xрхЅ = y'рхЅ} {yрхЅ} HрхЅ (transitive-РЅ╝-­ЮЋјрхЅ {xрхЅ = yрхЅ} {xрхЅ} {y'рхЅ} LрхЅ (РЅ╝-le-­ЮЋјрхЅ KрхЅ))
```

### Constants are elements of least rank

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  is-least-РЅ╝-constant-­ЮЋјрхЅ :
    {xрхЅ : AрхЅ} (hрхЅ : is-emptyрхЅ (BрхЅ xрхЅ)) (wрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ constant-­ЮЋјрхЅ xрхЅ hрхЅ РЅ╝-­ЮЋјрхЅ wрхЅ
  is-least-РЅ╝-constant-­ЮЋјрхЅ hрхЅ (tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ) xрхЅ = ex-falsoрхЅ (hрхЅ xрхЅ)

  is-least-РЅ╝-is-constant-­ЮЋјрхЅ :
    {xрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ is-constant-­ЮЋјрхЅ xрхЅ Рєњ (yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ
  is-least-РЅ╝-is-constant-­ЮЋјрхЅ {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} HрхЅ (tree-­ЮЋјрхЅ yрхЅ ╬▓рхЅ) zрхЅ =
    ex-falsoрхЅ (HрхЅ zрхЅ)

  is-constant-is-least-РЅ╝-­ЮЋјрхЅ :
    {xрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ ((yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ) Рєњ xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ) Рєњ is-constant-­ЮЋјрхЅ xрхЅ
  is-constant-is-least-РЅ╝-­ЮЋјрхЅ {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} HрхЅ bрхЅ =
    not-РЅ╝-Рѕѕ-­ЮЋјрхЅ {xрхЅ = ╬▒рхЅ bрхЅ} {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} (pairрхЅ bрхЅ reflрхЅ) (HрхЅ (╬▒рхЅ bрхЅ))
```

### If the rank of `x` is strictly below the rank of `y`, then the rank of `x` is at most the rank of `y`

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  РЅ╝-РЅ║-­ЮЋјрхЅ : {xрхЅ yрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ РЅ║-­ЮЋјрхЅ yрхЅ) Рєњ (xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ)
  РЅ╝-РЅ║-­ЮЋјрхЅ {xрхЅ} {yрхЅ} HрхЅ =
    apply-universal-property-trunc-PropрхЅ HрхЅ (xрхЅ РЅ╝-­ЮЋј-PropрхЅ yрхЅ) fрхЅ
    where
    fрхЅ : ╬БрхЅ (╬БрхЅ (­ЮЋјрхЅ AрхЅ BрхЅ) (╬╗ wрхЅ Рєњ wрхЅ Рѕѕ-­ЮЋјрхЅ yрхЅ)) (╬╗ tрхЅ Рєњ xрхЅ РЅ╝-­ЮЋјрхЅ pr1рхЅ tрхЅ) Рєњ (xрхЅ РЅ╝-­ЮЋјрхЅ yрхЅ)
    fрхЅ (pairрхЅ (pairрхЅ wрхЅ KрхЅ) LрхЅ) = transitive-РЅ╝-­ЮЋјрхЅ {xрхЅ = xрхЅ} {wрхЅ} {yрхЅ} LрхЅ (РЅ╝-Рѕѕ-­ЮЋјрхЅ KрхЅ)
```

### Strict rank comparison is transitive

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  transitive-РЅ║-­ЮЋјрхЅ : {xрхЅ yрхЅ zрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ (xрхЅ РЅ║-­ЮЋјрхЅ yрхЅ) Рєњ (yрхЅ РЅ║-­ЮЋјрхЅ zрхЅ) Рєњ (xрхЅ РЅ║-­ЮЋјрхЅ zрхЅ)
  transitive-РЅ║-­ЮЋјрхЅ {xрхЅ} {yрхЅ} {zрхЅ} HрхЅ KрхЅ =
    apply-universal-property-trunc-PropрхЅ HрхЅ (xрхЅ РЅ║-­ЮЋј-PropрхЅ zрхЅ) fрхЅ
    where
    fрхЅ : ╬БрхЅ (╬БрхЅ (­ЮЋјрхЅ AрхЅ BрхЅ) (╬╗ wрхЅ Рєњ wрхЅ Рѕѕ-­ЮЋјрхЅ yрхЅ)) (╬╗ tрхЅ Рєњ xрхЅ РЅ╝-­ЮЋјрхЅ pr1рхЅ tрхЅ) Рєњ xрхЅ РЅ║-­ЮЋјрхЅ zрхЅ
    fрхЅ (pairрхЅ (pairрхЅ wрхЅ LрхЅ) MрхЅ) =
      apply-universal-property-trunc-PropрхЅ KрхЅ (xрхЅ РЅ║-­ЮЋј-PropрхЅ zрхЅ) gрхЅ
      where
      gрхЅ : ╬БрхЅ (╬БрхЅ (­ЮЋјрхЅ AрхЅ BрхЅ) (╬╗ wрхЅ Рєњ wрхЅ Рѕѕ-­ЮЋјрхЅ zрхЅ)) (╬╗ tрхЅ Рєњ yрхЅ РЅ╝-­ЮЋјрхЅ pr1рхЅ tрхЅ) Рєњ xрхЅ РЅ║-­ЮЋјрхЅ zрхЅ
      gрхЅ (pairрхЅ (pairрхЅ vрхЅ PрхЅ) QрхЅ) =
        intro-existsрхЅ
          ( pairрхЅ vрхЅ PрхЅ)
          ( transitive-РЅ╝-­ЮЋјрхЅ {xрхЅ = xрхЅ} {wрхЅ} {vрхЅ} MрхЅ
            ( transitive-РЅ╝-­ЮЋјрхЅ {xрхЅ = wрхЅ} {yрхЅ} {vрхЅ} (РЅ╝-Рѕѕ-­ЮЋјрхЅ LрхЅ) QрхЅ))
```

### Strict rank comparison is irreflexive

```agda
module _
  {l1рхЅ l2рхЅ : Level} {AрхЅ : UUрхЅ l1рхЅ} {BрхЅ : AрхЅ Рєњ UUрхЅ l2рхЅ}
  where

  irreflexive-РЅ║-­ЮЋјрхЅ : {xрхЅ : ­ЮЋјрхЅ AрхЅ BрхЅ} Рєњ ┬грхЅ (xрхЅ РЅ║-­ЮЋјрхЅ xрхЅ)
  irreflexive-РЅ║-­ЮЋјрхЅ {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} HрхЅ =
    apply-universal-property-trunc-PropрхЅ HрхЅ empty-PropрхЅ fрхЅ
    where
    fрхЅ :
      ┬грхЅ ( ╬БрхЅ ( ╬БрхЅ (­ЮЋјрхЅ AрхЅ BрхЅ) (╬╗ wрхЅ Рєњ wрхЅ Рѕѕ-­ЮЋјрхЅ tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ))
            ( ╬╗ tрхЅ Рєњ tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ РЅ╝-­ЮЋјрхЅ pr1рхЅ tрхЅ))
    fрхЅ (pairрхЅ (pairрхЅ wрхЅ KрхЅ) LрхЅ) = not-РЅ╝-Рѕѕ-­ЮЋјрхЅ {xрхЅ = wрхЅ} {tree-­ЮЋјрхЅ xрхЅ ╬▒рхЅ} KрхЅ LрхЅ
```