# Ideals generated by subsets of rings

```agda
module ring-theory.ideals-generated-by-subsets-ringsᵉ where
```

<details><summary>Imports</summary>

```agda
open import foundation.action-on-identifications-functionsᵉ
open import foundation.cartesian-product-typesᵉ
open import foundation.dependent-pair-typesᵉ
open import foundation.fibers-of-mapsᵉ
open import foundation.identity-typesᵉ
open import foundation.logical-equivalencesᵉ
open import foundation.powersetsᵉ
open import foundation.propositional-truncationsᵉ
open import foundation.subtypesᵉ
open import foundation.transport-along-identificationsᵉ
open import foundation.unions-subtypesᵉ
open import foundation.universe-levelsᵉ

open import lists.concatenation-listsᵉ
open import lists.functoriality-listsᵉ
open import lists.listsᵉ

open import order-theory.galois-connections-large-posetsᵉ
open import order-theory.least-upper-bounds-large-posetsᵉ
open import order-theory.order-preserving-maps-large-posetsᵉ
open import order-theory.order-preserving-maps-large-preordersᵉ
open import order-theory.reflective-galois-connections-large-posetsᵉ

open import ring-theory.ideals-ringsᵉ
open import ring-theory.poset-of-ideals-ringsᵉ
open import ring-theory.ringsᵉ
open import ring-theory.subsets-ringsᵉ
```

</details>

## Idea

Ifᵉ `S`ᵉ isᵉ aᵉ [subset](ring-theory.subsets-rings.mdᵉ) ofᵉ aᵉ
[ring](ring-theory.rings.mdᵉ) `R`,ᵉ thenᵉ theᵉ **(two-sidedᵉ) idealᵉ generatedᵉ byᵉ
`S`**ᵉ isᵉ theᵉ leastᵉ [ideal](ring-theory.ideals-rings.mdᵉ) containingᵉ `S`.ᵉ Thisᵉ
ideaᵉ expressesᵉ theᵉ universalᵉ propertyᵉ ofᵉ theᵉ idealᵉ generatedᵉ byᵉ aᵉ subsetᵉ ofᵉ aᵉ
ring.ᵉ Weᵉ willᵉ constructᵉ itᵉ asᵉ theᵉ typeᵉ ofᵉ finiteᵉ linearᵉ combinationsᵉ ofᵉ elementsᵉ
in `S`.ᵉ Theᵉ operationᵉ `Sᵉ ↦ᵉ (S)`ᵉ whichᵉ mapsᵉ aᵉ subsetᵉ `S`ᵉ to theᵉ idealᵉ generatedᵉ
byᵉ `S`ᵉ isᵉ theᵉ lowerᵉ adjointᵉ ofᵉ aᵉ
[galoisᵉ connection](order-theory.galois-connections-large-posets.mdᵉ) betweenᵉ theᵉ
[largeᵉ poset](order-theory.large-posets.mdᵉ) ofᵉ subsetsᵉ ofᵉ `R`ᵉ andᵉ theᵉ largeᵉ
posetᵉ ofᵉ idealsᵉ ofᵉ `R`.ᵉ

## Definitions

### The universal property of ideals generated by a subset of a ring

```agda
module _
  {l1ᵉ l2ᵉ l3ᵉ : Level} (Rᵉ : Ringᵉ l1ᵉ) (Sᵉ : subset-Ringᵉ l2ᵉ Rᵉ)
  (Iᵉ : ideal-Ringᵉ l3ᵉ Rᵉ) (Hᵉ : Sᵉ ⊆ᵉ subset-ideal-Ringᵉ Rᵉ Iᵉ)
  where

  is-ideal-generated-by-subset-Ringᵉ : UUωᵉ
  is-ideal-generated-by-subset-Ringᵉ =
    {lᵉ : Level} (Jᵉ : ideal-Ringᵉ lᵉ Rᵉ) →
    Sᵉ ⊆ᵉ subset-ideal-Ringᵉ Rᵉ Jᵉ → leq-ideal-Ringᵉ Rᵉ Iᵉ Jᵉ
```

### The universal property of ideals generated by families of subsets of a ring

```agda
module _
  {l1ᵉ l2ᵉ l3ᵉ l4ᵉ : Level} (Rᵉ : Ringᵉ l1ᵉ) {Uᵉ : UUᵉ l2ᵉ} (Sᵉ : Uᵉ → subset-Ringᵉ l3ᵉ Rᵉ)
  (Iᵉ : ideal-Ringᵉ l4ᵉ Rᵉ) (Hᵉ : (αᵉ : Uᵉ) → Sᵉ αᵉ ⊆ᵉ subset-ideal-Ringᵉ Rᵉ Iᵉ)
  where

  is-ideal-generated-by-family-of-subsets-Ringᵉ : UUωᵉ
  is-ideal-generated-by-family-of-subsets-Ringᵉ =
    {lᵉ : Level} (Jᵉ : ideal-Ringᵉ lᵉ Rᵉ) →
    ({αᵉ : Uᵉ} → Sᵉ αᵉ ⊆ᵉ subset-ideal-Ringᵉ Rᵉ Jᵉ) → leq-ideal-Ringᵉ Rᵉ Iᵉ Jᵉ
```

### The universal property of ideals generated by families of elements of a ring

```agda
module _
  {l1ᵉ l2ᵉ l3ᵉ : Level} (Rᵉ : Ringᵉ l1ᵉ) {Uᵉ : UUᵉ l2ᵉ} (aᵉ : Uᵉ → type-Ringᵉ Rᵉ)
  (Iᵉ : ideal-Ringᵉ l3ᵉ Rᵉ) (Hᵉ : (αᵉ : Uᵉ) → is-in-ideal-Ringᵉ Rᵉ Iᵉ (aᵉ αᵉ))
  where

  is-ideal-generated-by-family-of-elements-Ringᵉ : UUωᵉ
  is-ideal-generated-by-family-of-elements-Ringᵉ =
    {lᵉ : Level} (Jᵉ : ideal-Ringᵉ lᵉ Rᵉ) →
    ({αᵉ : Uᵉ} → is-in-ideal-Ringᵉ Rᵉ Jᵉ (aᵉ αᵉ)) → leq-ideal-Ringᵉ Rᵉ Iᵉ Jᵉ
```

### Construction of the Galois connection of ideals generated by subsets

#### Ideals generated by subsets

```agda
module _
  {l1ᵉ l2ᵉ : Level} (Rᵉ : Ringᵉ l1ᵉ) (Sᵉ : subset-Ringᵉ l2ᵉ Rᵉ)
  where

  formal-combination-subset-Ringᵉ : UUᵉ (l1ᵉ ⊔ l2ᵉ)
  formal-combination-subset-Ringᵉ =
    listᵉ (type-Ringᵉ Rᵉ ×ᵉ (type-subset-Ringᵉ Rᵉ Sᵉ ×ᵉ type-Ringᵉ Rᵉ))

  ev-formal-combination-subset-Ringᵉ :
    formal-combination-subset-Ringᵉ → type-Ringᵉ Rᵉ
  ev-formal-combination-subset-Ringᵉ nilᵉ = zero-Ringᵉ Rᵉ
  ev-formal-combination-subset-Ringᵉ (consᵉ (xᵉ ,ᵉ sᵉ ,ᵉ yᵉ) lᵉ) =
    add-Ringᵉ Rᵉ
      ( mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ xᵉ (inclusion-subset-Ringᵉ Rᵉ Sᵉ sᵉ)) yᵉ)
      ( ev-formal-combination-subset-Ringᵉ lᵉ)

  preserves-concat-ev-formal-combination-subset-Ringᵉ :
    (uᵉ vᵉ : formal-combination-subset-Ringᵉ) →
    ev-formal-combination-subset-Ringᵉ (concat-listᵉ uᵉ vᵉ) ＝ᵉ
    add-Ringᵉ Rᵉ
      ( ev-formal-combination-subset-Ringᵉ uᵉ)
      ( ev-formal-combination-subset-Ringᵉ vᵉ)
  preserves-concat-ev-formal-combination-subset-Ringᵉ nilᵉ vᵉ =
    invᵉ (left-unit-law-add-Ringᵉ Rᵉ (ev-formal-combination-subset-Ringᵉ vᵉ))
  preserves-concat-ev-formal-combination-subset-Ringᵉ (consᵉ (xᵉ ,ᵉ sᵉ ,ᵉ yᵉ) uᵉ) vᵉ =
    ( apᵉ
      ( add-Ringᵉ Rᵉ
        ( mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ xᵉ (inclusion-subset-Ringᵉ Rᵉ Sᵉ sᵉ)) yᵉ))
      ( preserves-concat-ev-formal-combination-subset-Ringᵉ uᵉ vᵉ)) ∙ᵉ
    ( invᵉ
      ( associative-add-Ringᵉ Rᵉ
        ( mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ xᵉ (inclusion-subset-Ringᵉ Rᵉ Sᵉ sᵉ)) yᵉ)
        ( ev-formal-combination-subset-Ringᵉ uᵉ)
        ( ev-formal-combination-subset-Ringᵉ vᵉ)))

  mul-formal-combination-subset-Ringᵉ :
    type-Ringᵉ Rᵉ → formal-combination-subset-Ringᵉ →
    type-Ringᵉ Rᵉ → formal-combination-subset-Ringᵉ
  mul-formal-combination-subset-Ringᵉ xᵉ lᵉ yᵉ =
    map-listᵉ (λ (uᵉ ,ᵉ sᵉ ,ᵉ vᵉ) → (mul-Ringᵉ Rᵉ xᵉ uᵉ ,ᵉ sᵉ ,ᵉ mul-Ringᵉ Rᵉ vᵉ yᵉ)) lᵉ

  preserves-mul-ev-formal-combination-subset-Ringᵉ :
    (xᵉ : type-Ringᵉ Rᵉ) (uᵉ : formal-combination-subset-Ringᵉ) (yᵉ : type-Ringᵉ Rᵉ) →
    ( ev-formal-combination-subset-Ringᵉ
      ( mul-formal-combination-subset-Ringᵉ xᵉ uᵉ yᵉ)) ＝ᵉ
    ( mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ xᵉ (ev-formal-combination-subset-Ringᵉ uᵉ)) yᵉ)
  preserves-mul-ev-formal-combination-subset-Ringᵉ xᵉ nilᵉ yᵉ =
    invᵉ
      ( ( apᵉ
          ( mul-Ring'ᵉ Rᵉ yᵉ)
          ( right-zero-law-mul-Ringᵉ Rᵉ xᵉ)) ∙ᵉ
        ( left-zero-law-mul-Ringᵉ Rᵉ yᵉ))
  preserves-mul-ev-formal-combination-subset-Ringᵉ xᵉ
    ( consᵉ (rᵉ ,ᵉ (sᵉ ,ᵉ Hᵉ) ,ᵉ tᵉ) uᵉ) yᵉ =
    ( ap-add-Ringᵉ Rᵉ
      ( ( invᵉ
          ( associative-mul-Ringᵉ Rᵉ
            ( mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ xᵉ rᵉ) sᵉ)
            ( tᵉ)
            ( yᵉ))) ∙ᵉ
        ( apᵉ
          ( mul-Ring'ᵉ Rᵉ yᵉ)
          ( ( apᵉ (mul-Ring'ᵉ Rᵉ tᵉ) (associative-mul-Ringᵉ Rᵉ xᵉ rᵉ sᵉ)) ∙ᵉ
            ( associative-mul-Ringᵉ Rᵉ xᵉ (mul-Ringᵉ Rᵉ rᵉ sᵉ) tᵉ))))
      ( preserves-mul-ev-formal-combination-subset-Ringᵉ xᵉ uᵉ yᵉ)) ∙ᵉ
    ( ( invᵉ
        ( right-distributive-mul-add-Ringᵉ Rᵉ
          ( mul-Ringᵉ Rᵉ xᵉ
            ( mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ rᵉ sᵉ) tᵉ))
          ( mul-Ringᵉ Rᵉ xᵉ (ev-formal-combination-subset-Ringᵉ uᵉ))
          ( yᵉ))) ∙ᵉ
      ( apᵉ
        ( mul-Ring'ᵉ Rᵉ yᵉ)
        ( invᵉ
          ( left-distributive-mul-add-Ringᵉ Rᵉ xᵉ
            ( mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ rᵉ sᵉ) tᵉ)
            ( ev-formal-combination-subset-Ringᵉ uᵉ)))))

  subset-ideal-subset-Ring'ᵉ : type-Ringᵉ Rᵉ → UUᵉ (l1ᵉ ⊔ l2ᵉ)
  subset-ideal-subset-Ring'ᵉ xᵉ =
    fiberᵉ ev-formal-combination-subset-Ringᵉ xᵉ

  subset-ideal-subset-Ringᵉ : subset-Ringᵉ (l1ᵉ ⊔ l2ᵉ) Rᵉ
  subset-ideal-subset-Ringᵉ xᵉ =
    trunc-Propᵉ (subset-ideal-subset-Ring'ᵉ xᵉ)

  is-in-ideal-subset-Ringᵉ : type-Ringᵉ Rᵉ → UUᵉ (l1ᵉ ⊔ l2ᵉ)
  is-in-ideal-subset-Ringᵉ = is-in-subtypeᵉ subset-ideal-subset-Ringᵉ

  contains-zero-ideal-subset-Ringᵉ :
    contains-zero-subset-Ringᵉ Rᵉ subset-ideal-subset-Ringᵉ
  contains-zero-ideal-subset-Ringᵉ = unit-trunc-Propᵉ (nilᵉ ,ᵉ reflᵉ)

  is-closed-under-addition-ideal-subset-Ring'ᵉ :
    (xᵉ yᵉ : type-Ringᵉ Rᵉ) →
    subset-ideal-subset-Ring'ᵉ xᵉ → subset-ideal-subset-Ring'ᵉ yᵉ →
    subset-ideal-subset-Ring'ᵉ (add-Ringᵉ Rᵉ xᵉ yᵉ)
  pr1ᵉ (is-closed-under-addition-ideal-subset-Ring'ᵉ xᵉ yᵉ (lᵉ ,ᵉ Hᵉ) (kᵉ ,ᵉ Kᵉ)) =
    concat-listᵉ lᵉ kᵉ
  pr2ᵉ (is-closed-under-addition-ideal-subset-Ring'ᵉ xᵉ yᵉ (lᵉ ,ᵉ Hᵉ) (kᵉ ,ᵉ Kᵉ)) =
    ( preserves-concat-ev-formal-combination-subset-Ringᵉ lᵉ kᵉ) ∙ᵉ
    ( ap-add-Ringᵉ Rᵉ Hᵉ Kᵉ)

  is-closed-under-addition-ideal-subset-Ringᵉ :
    is-closed-under-addition-subset-Ringᵉ Rᵉ subset-ideal-subset-Ringᵉ
  is-closed-under-addition-ideal-subset-Ringᵉ {xᵉ} {yᵉ} Hᵉ Kᵉ =
    apply-universal-property-trunc-Propᵉ Hᵉ
      ( subset-ideal-subset-Ringᵉ (add-Ringᵉ Rᵉ xᵉ yᵉ))
      ( λ H'ᵉ →
        apply-universal-property-trunc-Propᵉ Kᵉ
          ( subset-ideal-subset-Ringᵉ (add-Ringᵉ Rᵉ xᵉ yᵉ))
          ( λ K'ᵉ →
            unit-trunc-Propᵉ
              ( is-closed-under-addition-ideal-subset-Ring'ᵉ xᵉ yᵉ H'ᵉ K'ᵉ)))

  is-closed-under-multiplication-ideal-subset-Ring'ᵉ :
    (rᵉ sᵉ tᵉ : type-Ringᵉ Rᵉ) → subset-ideal-subset-Ring'ᵉ sᵉ →
    subset-ideal-subset-Ring'ᵉ (mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ rᵉ sᵉ) tᵉ)
  pr1ᵉ (is-closed-under-multiplication-ideal-subset-Ring'ᵉ rᵉ sᵉ tᵉ (lᵉ ,ᵉ pᵉ)) =
    mul-formal-combination-subset-Ringᵉ rᵉ lᵉ tᵉ
  pr2ᵉ (is-closed-under-multiplication-ideal-subset-Ring'ᵉ rᵉ sᵉ tᵉ (lᵉ ,ᵉ pᵉ)) =
    ( preserves-mul-ev-formal-combination-subset-Ringᵉ rᵉ lᵉ tᵉ) ∙ᵉ
    ( apᵉ (λ uᵉ → mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ rᵉ uᵉ) tᵉ) pᵉ)

  is-closed-under-left-multiplication-ideal-subset-Ringᵉ :
    is-closed-under-left-multiplication-subset-Ringᵉ Rᵉ subset-ideal-subset-Ringᵉ
  is-closed-under-left-multiplication-ideal-subset-Ringᵉ xᵉ rᵉ Hᵉ =
    apply-universal-property-trunc-Propᵉ Hᵉ
      ( subset-ideal-subset-Ringᵉ (mul-Ringᵉ Rᵉ xᵉ rᵉ))
      ( λ H'ᵉ →
        unit-trunc-Propᵉ
          ( trᵉ
            ( subset-ideal-subset-Ring'ᵉ)
            ( right-unit-law-mul-Ringᵉ Rᵉ (mul-Ringᵉ Rᵉ xᵉ rᵉ))
            ( is-closed-under-multiplication-ideal-subset-Ring'ᵉ xᵉ rᵉ
              ( one-Ringᵉ Rᵉ)
              ( H'ᵉ))))

  is-closed-under-right-multiplication-ideal-subset-Ringᵉ :
    is-closed-under-right-multiplication-subset-Ringᵉ Rᵉ subset-ideal-subset-Ringᵉ
  is-closed-under-right-multiplication-ideal-subset-Ringᵉ xᵉ rᵉ Hᵉ =
    apply-universal-property-trunc-Propᵉ Hᵉ
      ( subset-ideal-subset-Ringᵉ (mul-Ringᵉ Rᵉ xᵉ rᵉ))
      ( λ H'ᵉ →
        unit-trunc-Propᵉ
          ( trᵉ
            ( subset-ideal-subset-Ring'ᵉ)
            ( apᵉ
              ( mul-Ring'ᵉ Rᵉ rᵉ)
              ( left-unit-law-mul-Ringᵉ Rᵉ xᵉ))
            ( is-closed-under-multiplication-ideal-subset-Ring'ᵉ
              ( one-Ringᵉ Rᵉ)
              ( xᵉ)
              ( rᵉ)
              ( H'ᵉ))))

  is-closed-under-negatives-ideal-subset-Ringᵉ :
    is-closed-under-negatives-subset-Ringᵉ Rᵉ subset-ideal-subset-Ringᵉ
  is-closed-under-negatives-ideal-subset-Ringᵉ {xᵉ} Hᵉ =
    trᵉ
      ( is-in-ideal-subset-Ringᵉ)
      ( mul-neg-one-Ringᵉ Rᵉ xᵉ)
      ( is-closed-under-left-multiplication-ideal-subset-Ringᵉ
        ( neg-one-Ringᵉ Rᵉ)
        ( xᵉ)
        ( Hᵉ))

  ideal-subset-Ringᵉ : ideal-Ringᵉ (l1ᵉ ⊔ l2ᵉ) Rᵉ
  pr1ᵉ ideal-subset-Ringᵉ =
    subset-ideal-subset-Ringᵉ
  pr1ᵉ (pr1ᵉ (pr2ᵉ ideal-subset-Ringᵉ)) =
    contains-zero-ideal-subset-Ringᵉ
  pr1ᵉ (pr2ᵉ (pr1ᵉ (pr2ᵉ ideal-subset-Ringᵉ))) =
    is-closed-under-addition-ideal-subset-Ringᵉ
  pr2ᵉ (pr2ᵉ (pr1ᵉ (pr2ᵉ ideal-subset-Ringᵉ))) =
    is-closed-under-negatives-ideal-subset-Ringᵉ
  pr1ᵉ (pr2ᵉ (pr2ᵉ ideal-subset-Ringᵉ)) =
    is-closed-under-left-multiplication-ideal-subset-Ringᵉ
  pr2ᵉ (pr2ᵉ (pr2ᵉ ideal-subset-Ringᵉ)) =
    is-closed-under-right-multiplication-ideal-subset-Ringᵉ

  contains-subset-ideal-subset-Ringᵉ :
    Sᵉ ⊆ᵉ subset-ideal-subset-Ringᵉ
  contains-subset-ideal-subset-Ringᵉ sᵉ Hᵉ =
    unit-trunc-Propᵉ
      ( ( consᵉ (one-Ringᵉ Rᵉ ,ᵉ (sᵉ ,ᵉ Hᵉ) ,ᵉ one-Ringᵉ Rᵉ) nilᵉ) ,ᵉ
        ( ( right-unit-law-add-Ringᵉ Rᵉ _) ∙ᵉ
          ( right-unit-law-mul-Ringᵉ Rᵉ _ ∙ᵉ left-unit-law-mul-Ringᵉ Rᵉ _)))

  contains-formal-combinations-ideal-subset-Ringᵉ :
    {l3ᵉ : Level} (Iᵉ : ideal-Ringᵉ l3ᵉ Rᵉ) → Sᵉ ⊆ᵉ subset-ideal-Ringᵉ Rᵉ Iᵉ →
    (xᵉ : formal-combination-subset-Ringᵉ) →
    is-in-ideal-Ringᵉ Rᵉ Iᵉ (ev-formal-combination-subset-Ringᵉ xᵉ)
  contains-formal-combinations-ideal-subset-Ringᵉ Iᵉ Hᵉ nilᵉ =
    contains-zero-ideal-Ringᵉ Rᵉ Iᵉ
  contains-formal-combinations-ideal-subset-Ringᵉ Iᵉ Hᵉ
    ( consᵉ (rᵉ ,ᵉ (sᵉ ,ᵉ Kᵉ) ,ᵉ tᵉ) cᵉ) =
    is-closed-under-addition-ideal-Ringᵉ Rᵉ Iᵉ
      ( is-closed-under-right-multiplication-ideal-Ringᵉ Rᵉ Iᵉ
        ( mul-Ringᵉ Rᵉ rᵉ sᵉ)
        ( tᵉ)
        ( is-closed-under-left-multiplication-ideal-Ringᵉ Rᵉ Iᵉ rᵉ sᵉ (Hᵉ sᵉ Kᵉ)))
      ( contains-formal-combinations-ideal-subset-Ringᵉ Iᵉ Hᵉ cᵉ)

  is-ideal-generated-by-subset-ideal-subset-Ringᵉ :
    is-ideal-generated-by-subset-Ringᵉ Rᵉ Sᵉ
      ( ideal-subset-Ringᵉ)
      ( contains-subset-ideal-subset-Ringᵉ)
  is-ideal-generated-by-subset-ideal-subset-Ringᵉ Jᵉ Kᵉ xᵉ Hᵉ =
    apply-universal-property-trunc-Propᵉ Hᵉ (subset-ideal-Ringᵉ Rᵉ Jᵉ xᵉ) Pᵉ
    where
    Pᵉ : subset-ideal-subset-Ring'ᵉ xᵉ → is-in-ideal-Ringᵉ Rᵉ Jᵉ xᵉ
    Pᵉ (cᵉ ,ᵉ reflᵉ) =
      contains-formal-combinations-ideal-subset-Ringᵉ Jᵉ Kᵉ cᵉ

  is-closed-under-eq-ideal-subset-Ringᵉ :
    {xᵉ yᵉ : type-Ringᵉ Rᵉ} → is-in-ideal-subset-Ringᵉ xᵉ →
    (xᵉ ＝ᵉ yᵉ) → is-in-ideal-subset-Ringᵉ yᵉ
  is-closed-under-eq-ideal-subset-Ringᵉ =
    is-closed-under-eq-ideal-Ringᵉ Rᵉ ideal-subset-Ringᵉ

  is-closed-under-eq-ideal-subset-Ring'ᵉ :
    {xᵉ yᵉ : type-Ringᵉ Rᵉ} → is-in-ideal-subset-Ringᵉ yᵉ →
    (xᵉ ＝ᵉ yᵉ) → is-in-ideal-subset-Ringᵉ xᵉ
  is-closed-under-eq-ideal-subset-Ring'ᵉ =
    is-closed-under-eq-ideal-Ring'ᵉ Rᵉ ideal-subset-Ringᵉ
```

#### The subset relation is preserved by generating ideals

```agda
module _
  {l1ᵉ : Level} (Aᵉ : Ringᵉ l1ᵉ)
  where

  preserves-order-ideal-subset-Ringᵉ :
    {l2ᵉ l3ᵉ : Level} (Sᵉ : subset-Ringᵉ l2ᵉ Aᵉ) (Tᵉ : subset-Ringᵉ l3ᵉ Aᵉ) →
    Sᵉ ⊆ᵉ Tᵉ →
    leq-ideal-Ringᵉ Aᵉ
      ( ideal-subset-Ringᵉ Aᵉ Sᵉ)
      ( ideal-subset-Ringᵉ Aᵉ Tᵉ)
  preserves-order-ideal-subset-Ringᵉ Sᵉ Tᵉ Hᵉ =
    is-ideal-generated-by-subset-ideal-subset-Ringᵉ Aᵉ Sᵉ
      ( ideal-subset-Ringᵉ Aᵉ Tᵉ)
      ( transitive-leq-subtypeᵉ Sᵉ Tᵉ
        ( subset-ideal-subset-Ringᵉ Aᵉ Tᵉ)
        ( contains-subset-ideal-subset-Ringᵉ Aᵉ Tᵉ)
        ( Hᵉ))

  ideal-subset-hom-large-poset-Ringᵉ :
    hom-Large-Posetᵉ
      ( λ l2ᵉ → l1ᵉ ⊔ l2ᵉ)
      ( powerset-Large-Posetᵉ (type-Ringᵉ Aᵉ))
      ( ideal-Ring-Large-Posetᵉ Aᵉ)
  map-hom-Large-Preorderᵉ ideal-subset-hom-large-poset-Ringᵉ =
    ideal-subset-Ringᵉ Aᵉ
  preserves-order-hom-Large-Preorderᵉ ideal-subset-hom-large-poset-Ringᵉ =
    preserves-order-ideal-subset-Ringᵉ
```

#### The Galois connection `S ↦ (S)`

```agda
module _
  {l1ᵉ : Level} (Aᵉ : Ringᵉ l1ᵉ)
  where

  adjoint-relation-ideal-subset-Ringᵉ :
    {l2ᵉ l3ᵉ : Level} (Sᵉ : subset-Ringᵉ l2ᵉ Aᵉ) (Iᵉ : ideal-Ringᵉ l3ᵉ Aᵉ) →
    leq-ideal-Ringᵉ Aᵉ (ideal-subset-Ringᵉ Aᵉ Sᵉ) Iᵉ ↔ᵉ
    (Sᵉ ⊆ᵉ subset-ideal-Ringᵉ Aᵉ Iᵉ)
  pr1ᵉ (adjoint-relation-ideal-subset-Ringᵉ Sᵉ Iᵉ) Hᵉ =
    transitive-leq-subtypeᵉ Sᵉ
      ( subset-ideal-subset-Ringᵉ Aᵉ Sᵉ)
      ( subset-ideal-Ringᵉ Aᵉ Iᵉ)
      ( Hᵉ)
      ( contains-subset-ideal-subset-Ringᵉ Aᵉ Sᵉ)
  pr2ᵉ (adjoint-relation-ideal-subset-Ringᵉ Sᵉ Iᵉ) =
    is-ideal-generated-by-subset-ideal-subset-Ringᵉ Aᵉ Sᵉ Iᵉ

  ideal-subset-galois-connection-Ringᵉ :
    galois-connection-Large-Posetᵉ
      ( _⊔ᵉ_ l1ᵉ) (λ lᵉ → lᵉ)
      ( powerset-Large-Posetᵉ (type-Ringᵉ Aᵉ))
      ( ideal-Ring-Large-Posetᵉ Aᵉ)
  lower-adjoint-galois-connection-Large-Posetᵉ
    ideal-subset-galois-connection-Ringᵉ =
    ideal-subset-hom-large-poset-Ringᵉ Aᵉ
  upper-adjoint-galois-connection-Large-Posetᵉ
    ideal-subset-galois-connection-Ringᵉ =
    subset-ideal-hom-large-poset-Ringᵉ Aᵉ
  adjoint-relation-galois-connection-Large-Posetᵉ
    ideal-subset-galois-connection-Ringᵉ =
    adjoint-relation-ideal-subset-Ringᵉ
```

#### The reflective Galois connection `S ↦ (S)`

```agda
module _
  {l1ᵉ : Level} (Aᵉ : Ringᵉ l1ᵉ)
  where

  forward-inclusion-is-reflective-ideal-subset-galois-connection-Ringᵉ :
    {l2ᵉ : Level} (Iᵉ : ideal-Ringᵉ l2ᵉ Aᵉ) →
    leq-ideal-Ringᵉ Aᵉ (ideal-subset-Ringᵉ Aᵉ (subset-ideal-Ringᵉ Aᵉ Iᵉ)) Iᵉ
  forward-inclusion-is-reflective-ideal-subset-galois-connection-Ringᵉ Iᵉ =
    is-ideal-generated-by-subset-ideal-subset-Ringᵉ Aᵉ
      ( subset-ideal-Ringᵉ Aᵉ Iᵉ)
      ( Iᵉ)
      ( refl-leq-ideal-Ringᵉ Aᵉ Iᵉ)

  backward-inclusion-is-reflective-ideal-subset-galois-connection-Ringᵉ :
    {l2ᵉ : Level} (Iᵉ : ideal-Ringᵉ l2ᵉ Aᵉ) →
    leq-ideal-Ringᵉ Aᵉ Iᵉ (ideal-subset-Ringᵉ Aᵉ (subset-ideal-Ringᵉ Aᵉ Iᵉ))
  backward-inclusion-is-reflective-ideal-subset-galois-connection-Ringᵉ Iᵉ =
    contains-subset-ideal-subset-Ringᵉ Aᵉ (subset-ideal-Ringᵉ Aᵉ Iᵉ)

  is-reflective-ideal-subset-galois-connection-Ringᵉ :
    is-reflective-galois-connection-Large-Posetᵉ
      ( powerset-Large-Posetᵉ (type-Ringᵉ Aᵉ))
      ( ideal-Ring-Large-Posetᵉ Aᵉ)
      ( ideal-subset-galois-connection-Ringᵉ Aᵉ)
  pr1ᵉ (is-reflective-ideal-subset-galois-connection-Ringᵉ Iᵉ) =
    forward-inclusion-is-reflective-ideal-subset-galois-connection-Ringᵉ Iᵉ
  pr2ᵉ (is-reflective-ideal-subset-galois-connection-Ringᵉ Iᵉ) =
    backward-inclusion-is-reflective-ideal-subset-galois-connection-Ringᵉ Iᵉ

  ideal-subset-reflective-galois-connection-Ringᵉ :
    reflective-galois-connection-Large-Posetᵉ
      ( powerset-Large-Posetᵉ (type-Ringᵉ Aᵉ))
      ( ideal-Ring-Large-Posetᵉ Aᵉ)
  galois-connection-reflective-galois-connection-Large-Posetᵉ
    ideal-subset-reflective-galois-connection-Ringᵉ =
    ideal-subset-galois-connection-Ringᵉ Aᵉ
  is-reflective-reflective-galois-connection-Large-Posetᵉ
    ideal-subset-reflective-galois-connection-Ringᵉ =
    is-reflective-ideal-subset-galois-connection-Ringᵉ
```

### The ideal generated by a family of subsets of a ring

```agda
module _
  {l1ᵉ l2ᵉ l3ᵉ : Level} (Rᵉ : Ringᵉ l1ᵉ) {Uᵉ : UUᵉ l2ᵉ} (Sᵉ : Uᵉ → subset-Ringᵉ l3ᵉ Rᵉ)
  where

  generating-subset-ideal-family-of-subsets-Ringᵉ :
    subset-Ringᵉ (l2ᵉ ⊔ l3ᵉ) Rᵉ
  generating-subset-ideal-family-of-subsets-Ringᵉ xᵉ =
    union-family-of-subtypesᵉ Sᵉ xᵉ

  ideal-family-of-subsets-Ringᵉ : ideal-Ringᵉ (l1ᵉ ⊔ l2ᵉ ⊔ l3ᵉ) Rᵉ
  ideal-family-of-subsets-Ringᵉ =
    ideal-subset-Ringᵉ Rᵉ generating-subset-ideal-family-of-subsets-Ringᵉ

  subset-ideal-family-of-subsets-Ringᵉ : subset-Ringᵉ (l1ᵉ ⊔ l2ᵉ ⊔ l3ᵉ) Rᵉ
  subset-ideal-family-of-subsets-Ringᵉ =
    subset-ideal-subset-Ringᵉ Rᵉ generating-subset-ideal-family-of-subsets-Ringᵉ

  is-in-ideal-family-of-subsets-Ringᵉ : type-Ringᵉ Rᵉ → UUᵉ (l1ᵉ ⊔ l2ᵉ ⊔ l3ᵉ)
  is-in-ideal-family-of-subsets-Ringᵉ =
    is-in-ideal-subset-Ringᵉ Rᵉ generating-subset-ideal-family-of-subsets-Ringᵉ

  contains-subset-ideal-family-of-subsets-Ringᵉ :
    {αᵉ : Uᵉ} → (Sᵉ αᵉ) ⊆ᵉ subset-ideal-family-of-subsets-Ringᵉ
  contains-subset-ideal-family-of-subsets-Ringᵉ {αᵉ} xᵉ Hᵉ =
    contains-subset-ideal-subset-Ringᵉ Rᵉ
      ( generating-subset-ideal-family-of-subsets-Ringᵉ)
      ( xᵉ)
      ( unit-trunc-Propᵉ (αᵉ ,ᵉ Hᵉ))

  is-ideal-generated-by-family-of-subsets-ideal-family-of-subsets-Ringᵉ :
    is-ideal-generated-by-family-of-subsets-Ringᵉ Rᵉ Sᵉ
      ( ideal-family-of-subsets-Ringᵉ)
      ( λ αᵉ → contains-subset-ideal-family-of-subsets-Ringᵉ)
  is-ideal-generated-by-family-of-subsets-ideal-family-of-subsets-Ringᵉ Jᵉ Hᵉ =
    is-ideal-generated-by-subset-ideal-subset-Ringᵉ Rᵉ
      ( generating-subset-ideal-family-of-subsets-Ringᵉ)
      ( Jᵉ)
      ( λ yᵉ qᵉ →
        apply-universal-property-trunc-Propᵉ qᵉ
          ( subset-ideal-Ringᵉ Rᵉ Jᵉ yᵉ)
          ( λ (αᵉ ,ᵉ Kᵉ) → Hᵉ yᵉ Kᵉ))
```

### The ideal generated by a family of elements in a ring

```agda
module _
  {l1ᵉ l2ᵉ : Level} (Rᵉ : Ringᵉ l1ᵉ) {Iᵉ : UUᵉ l1ᵉ} (aᵉ : Iᵉ → type-Ringᵉ Rᵉ)
  where

  generating-subset-ideal-family-of-elements-Ringᵉ : subset-Ringᵉ l1ᵉ Rᵉ
  generating-subset-ideal-family-of-elements-Ringᵉ xᵉ =
    trunc-Propᵉ (fiberᵉ aᵉ xᵉ)

  ideal-family-of-elements-Ringᵉ : ideal-Ringᵉ l1ᵉ Rᵉ
  ideal-family-of-elements-Ringᵉ =
    ideal-subset-Ringᵉ Rᵉ generating-subset-ideal-family-of-elements-Ringᵉ

  subset-ideal-family-of-elements-Ringᵉ : subset-Ringᵉ l1ᵉ Rᵉ
  subset-ideal-family-of-elements-Ringᵉ =
    subset-ideal-subset-Ringᵉ Rᵉ generating-subset-ideal-family-of-elements-Ringᵉ

  is-in-ideal-family-of-elements-Ringᵉ : type-Ringᵉ Rᵉ → UUᵉ l1ᵉ
  is-in-ideal-family-of-elements-Ringᵉ =
    is-in-ideal-subset-Ringᵉ Rᵉ generating-subset-ideal-family-of-elements-Ringᵉ

  contains-element-ideal-family-of-elements-Ringᵉ :
    (iᵉ : Iᵉ) → is-in-ideal-family-of-elements-Ringᵉ (aᵉ iᵉ)
  contains-element-ideal-family-of-elements-Ringᵉ iᵉ =
    contains-subset-ideal-subset-Ringᵉ Rᵉ
      ( generating-subset-ideal-family-of-elements-Ringᵉ)
      ( aᵉ iᵉ)
      ( unit-trunc-Propᵉ (iᵉ ,ᵉ reflᵉ))

  abstract
    is-ideal-generated-by-family-of-elements-ideal-family-of-elements-Ringᵉ :
      is-ideal-generated-by-family-of-elements-Ringᵉ Rᵉ aᵉ
        ideal-family-of-elements-Ringᵉ
        contains-element-ideal-family-of-elements-Ringᵉ
    is-ideal-generated-by-family-of-elements-ideal-family-of-elements-Ringᵉ Jᵉ Hᵉ =
      is-ideal-generated-by-subset-ideal-subset-Ringᵉ Rᵉ
        ( generating-subset-ideal-family-of-elements-Ringᵉ)
        ( Jᵉ)
        ( λ xᵉ pᵉ →
          apply-universal-property-trunc-Propᵉ pᵉ
            ( subset-ideal-Ringᵉ Rᵉ Jᵉ xᵉ)
            ( λ where (iᵉ ,ᵉ reflᵉ) → Hᵉ))
```

## Properties

### The ideal generated by the underlying subset of an ideal `I` is `I` itself

```agda
module _
  {l1ᵉ l2ᵉ : Level} (Rᵉ : Ringᵉ l1ᵉ) (Iᵉ : ideal-Ringᵉ l2ᵉ Rᵉ)
  where

  cases-forward-inclusion-idempotent-ideal-subset-Ringᵉ :
    (lᵉ : formal-combination-subset-Ringᵉ Rᵉ (subset-ideal-Ringᵉ Rᵉ Iᵉ)) →
    is-in-ideal-Ringᵉ Rᵉ Iᵉ
      ( ev-formal-combination-subset-Ringᵉ Rᵉ (subset-ideal-Ringᵉ Rᵉ Iᵉ)
      ( lᵉ))
  cases-forward-inclusion-idempotent-ideal-subset-Ringᵉ nilᵉ =
    contains-zero-ideal-Ringᵉ Rᵉ Iᵉ
  cases-forward-inclusion-idempotent-ideal-subset-Ringᵉ (consᵉ (xᵉ ,ᵉ uᵉ ,ᵉ yᵉ) lᵉ) =
    is-closed-under-addition-ideal-Ringᵉ Rᵉ Iᵉ
      ( is-closed-under-right-multiplication-ideal-Ringᵉ Rᵉ Iᵉ _ _
        ( is-closed-under-left-multiplication-ideal-Ringᵉ Rᵉ Iᵉ _ _ (pr2ᵉ uᵉ)))
      ( cases-forward-inclusion-idempotent-ideal-subset-Ringᵉ lᵉ)

  abstract
    forward-inclusion-idempotent-ideal-subset-Ringᵉ :
      leq-ideal-Ringᵉ Rᵉ
        ( ideal-subset-Ringᵉ Rᵉ (subset-ideal-Ringᵉ Rᵉ Iᵉ))
        ( Iᵉ)
    forward-inclusion-idempotent-ideal-subset-Ringᵉ xᵉ Hᵉ =
      apply-universal-property-trunc-Propᵉ Hᵉ
        ( subset-ideal-Ringᵉ Rᵉ Iᵉ xᵉ)
        ( λ where
          ( lᵉ ,ᵉ reflᵉ) → cases-forward-inclusion-idempotent-ideal-subset-Ringᵉ lᵉ)

  backward-inclusion-idempotent-ideal-subset-Ringᵉ :
    leq-ideal-Ringᵉ Rᵉ
      ( Iᵉ)
      ( ideal-subset-Ringᵉ Rᵉ (subset-ideal-Ringᵉ Rᵉ Iᵉ))
  backward-inclusion-idempotent-ideal-subset-Ringᵉ =
    contains-subset-ideal-subset-Ringᵉ Rᵉ (subset-ideal-Ringᵉ Rᵉ Iᵉ)

  idempotent-ideal-subset-Ringᵉ :
    has-same-elements-ideal-Ringᵉ Rᵉ
      ( ideal-subset-Ringᵉ Rᵉ (subset-ideal-Ringᵉ Rᵉ Iᵉ))
      ( Iᵉ)
  pr1ᵉ (idempotent-ideal-subset-Ringᵉ xᵉ) =
    forward-inclusion-idempotent-ideal-subset-Ringᵉ xᵉ
  pr2ᵉ (idempotent-ideal-subset-Ringᵉ xᵉ) =
    backward-inclusion-idempotent-ideal-subset-Ringᵉ xᵉ
```

### The operation `S ↦ (S)` preserves least upper bounds

Inᵉ [`ring-theory.joins-ideals-rings`](ring-theory.joins-ideals-rings.mdᵉ) weᵉ willᵉ
convertᵉ thisᵉ factᵉ to theᵉ factᵉ thatᵉ `Sᵉ ↦ᵉ (S)`ᵉ preservesᵉ joins.ᵉ

```agda
module _
  {l1ᵉ l2ᵉ l3ᵉ : Level} (Rᵉ : Ringᵉ l1ᵉ) {Uᵉ : UUᵉ l2ᵉ} (Sᵉ : Uᵉ → subset-Ringᵉ l3ᵉ Rᵉ)
  where

  preserves-least-upper-bounds-ideal-subset-Ringᵉ :
    {l4ᵉ : Level} (Tᵉ : subset-Ringᵉ l4ᵉ Rᵉ) →
    is-least-upper-bound-family-of-elements-Large-Posetᵉ
      ( powerset-Large-Posetᵉ (type-Ringᵉ Rᵉ))
      ( Sᵉ)
      ( Tᵉ) →
    is-least-upper-bound-family-of-elements-Large-Posetᵉ
      ( ideal-Ring-Large-Posetᵉ Rᵉ)
      ( λ αᵉ → ideal-subset-Ringᵉ Rᵉ (Sᵉ αᵉ))
      ( ideal-subset-Ringᵉ Rᵉ Tᵉ)
  preserves-least-upper-bounds-ideal-subset-Ringᵉ =
    preserves-join-lower-adjoint-galois-connection-Large-Posetᵉ
      ( powerset-Large-Posetᵉ (type-Ringᵉ Rᵉ))
      ( ideal-Ring-Large-Posetᵉ Rᵉ)
      ( ideal-subset-galois-connection-Ringᵉ Rᵉ)
      ( Sᵉ)
```